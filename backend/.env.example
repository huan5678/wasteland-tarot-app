# Supabase 配置
SUPABASE_URL=your_supabase_project_url_here
SUPABASE_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# 資料庫配置
DATABASE_URL=postgresql+asyncpg://postgres:your_password@db.your_project.supabase.co:5432/postgres
DB_HOST=db.your_project.supabase.co
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=your_database_password_here

# API 配置
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=True

# 日誌設定
LOG_LEVEL=INFO
ENABLE_JSON_LOGGING=false
LOG_DIR=logs

# 效能監控設定
SLOW_REQUEST_THRESHOLD_MS=1000
VERY_SLOW_REQUEST_THRESHOLD_MS=3000

# 安全配置
SECRET_KEY=your_secret_key_here

# Redis 配置（用於快取和認證方式變更追蹤）
# 如果 Redis 不可用，相關服務會自動降級到資料庫或無快取模式
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=true
# 生產環境範例：
# REDIS_URL=redis://redis-server:6379/0
# 或使用 TLS: rediss://redis-server:6379/0

# Daily Bingo 配置
BINGO_RESET_TIMEZONE=Asia/Taipei
BINGO_CYCLE_LENGTH=25
BINGO_MIN_LINES_FOR_REWARD=3

# 排程器配置（Supabase pg_cron）
# 註: 實際排程由 Supabase pg_cron 管理，這些變數用於文件記錄
DAILY_NUMBER_CRON=0 16 * * *
MONTHLY_RESET_CRON=0 16 1 * *

# Edge Functions URL（用於測試）
EDGE_FUNCTION_DAILY_NUMBER_URL=${SUPABASE_URL}/functions/v1/generate-daily-number
EDGE_FUNCTION_MONTHLY_RESET_URL=${SUPABASE_URL}/functions/v1/monthly-reset

# WebAuthn/Passkeys 配置（可選功能）
WEBAUTHN_ENABLED=false
WEBAUTHN_RP_ID=localhost
WEBAUTHN_RP_NAME=Wasteland Tarot
WEBAUTHN_ORIGIN=http://localhost:3000
WEBAUTHN_CHALLENGE_TTL=300
WEBAUTHN_AUTHENTICATOR_ATTACHMENT=platform
WEBAUTHN_USER_VERIFICATION=preferred
WEBAUTHN_RESIDENT_KEY=preferred
WEBAUTHN_TIMEOUT_MS=60000
WEBAUTHN_ATTESTATION=none

# AI LLM 配置（音樂生成功能）
# Google Gemini API（第一優先）
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.0-flash-exp

# OpenAI API（第二優先/回退）
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini

# Google Cloud TTS 配置
GOOGLE_CLOUD_CREDENTIALS_JSON={"type": "service_account", "project_id": "your_project_id", "private_key_id": "your_key_id", "private_key": "-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY\n-----END PRIVATE KEY-----\n", "client_email": "your-service-account@your-project.iam.gserviceaccount.com", "client_id": "your_client_id", "auth_uri": "https://accounts.google.com/o/oauth2/auth", "token_uri": "https://oauth2.googleapis.com/token", "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs", "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/your-service-account%40your-project.iam.gserviceaccount.com", "universe_domain": "googleapis.com"}
GOOGLE_TTS_LANGUAGE_CODE=en-US
GOOGLE_TTS_VOICE_NAME=en-US-Neural2-D

# Chirp 3:HD TTS 功能開關（Google Cloud TTS 最新模型）
# 啟用 Chirp 3:HD 獲得最高品質的語音合成
CHIRP3_ENABLED=false
CHIRP3_ROLLOUT_PERCENTAGE=0
CHIRP3_ENABLED_CHARACTERS=
CHIRP3_FALLBACK_TO_WAVENET=true

# Supabase Storage 配置
SUPABASE_STORAGE_BUCKET=audio-files

# 效能與記憶體優化配置
DATABASE_POOL_SIZE=3  # 資料庫連線池大小（預設 3，生產環境可增加到 5-10）
DATABASE_MAX_OVERFLOW=5  # 連線池溢位上限
ENABLE_BINGO_COLD_START_CHECK=false  # 是否在啟動時檢查並生成今日 Bingo 號碼（關閉可節省 ~10MB 記憶體）
ENABLE_SCHEDULER=true  # 是否啟用 APScheduler 排程器（如不需要 Bingo 功能可關閉）